# Артём Смирнов - Сервис мониторинга скорости загрузки страниц
# Пользовательские сценарии

### Группа: 10 - И - 5
### Электронная почта: mr.asmirnow@gmail.com ; avsmirnov_10@edu.hse.ru ;
### Telegram: [@mrasmirnow](https://t.me/mrasmirnow) (Не пользуюсь VK от слова совсем)


### [ Сценарий 1 - Регистрация / Вход в систему / Редактирование профиля ]

Регистрация:

\* В силу особенностей среды эксплуатации системы пользователь не может зарегистрироваться самостоятельно. Его должен зарегистрировать администратор.
1. Администратор открывает список пользователей в настройках системы
2. Администратор нажимает кнопку "создать нового пользователя"
3. Открывается диалог создания пользователя
4. Администратор вводит логин для нового пользователя
5. Если логин уже занят, система выводит оповещение об этом и не даёт продолжить регистрацию
6. Администратор вводит пароль для нового пользователя 
7. Если пароль не соответствует требованиям безопасности (он должен быть от 8 символов, содержать хотя бы одну заглавную букву, одну строчную и один специальный знак), система выводит оповещение об этом и не даёт продолжить регистрацию
8. Администратор выбирает тип нового пользователя - обычный пользователь или администратор
9. Администратор вводит дополнительную информацию о новом пользователе: ФИО, должность, etc.
10. Администратор нажимает кнопку "создать пользователя". Если все введённые данные корректны, система создаёт пользователя.

Редактирование профиля

\* В силу особенностей среды эксплуатации системы пользователь не может отредактировать профиль самостоятельно. Это должен сделать администратор.
1. Администратор открывает список пользователей в настройках системы
2. Администратор нажимает на карточке нужного пользователя кнопку "редактировать"
3. Открывается диалог редактирования пользователя
4. Администратор редактирует логин пользователя (опционально)
5. Если логин уже занят, система выводит оповещение об этом и не даёт завершить редактирование
6. Администратор редактирует пароль пользователя (опционально)
7. Если пароль не соответствует требованиям безопасности (он должен быть от 8 символов, содержать хотя бы одну заглавную букву, одну строчную и один специальный знак), система выводит оповещение об этом и не даёт завершить редактирование
8. Администратор редактирует тип пользователя - обычный пользователь или администратор (опционально)
9. Администратор редактирует дополнительную информацию о новом пользователе: ФИО, должность, etc. (опционально)
10. Администратор нажимает кнопку "применить изменения". Если все введённые данные корректны, система вносит изменения в профиль пользователя.

Вход:

1. Перед пользователем открывается окно входа
2. Пользователь вводит свой логин
3. Пользователь вводит свой пароль
4. Если логин не существует, система оповещает об этом и не даёт войти
5. Если пароль неправильный, система оповещает об этом и не даёт войти
6. Если учётные данные введены правильно, осуществляется вход в систему и открывается главная страница

### [ Сценарий 2 - Привязка аккаунта Telegram к системе для получения оповещений / отвязка Telegram от системы ]

Привязка:

1. Пользователь открывает свой профиль
2. Пользователь нажимает кнопку "Привязать аккаунт Telegram"
3. Появляется диалог привязки аккаунта в Telegram к аккаунту в системе
4. Пользователю предлагается выбор: нажать кнопку и перейти в телеграм, или скопировать одноразовый код для ручного ввода в бот.
5. Если пользователь выбирает нажать кнопку, он переходит по специальной ссылке в телеграм, нажимает "Start" и получает сообщение об успешной привязке аккаунта. Аккаунт привязывается к системе.
6. Если пользователь выбирает использовать код, он сам находит бота в телеграме и отправляет ему код с помощью команды /login
7. Если код введён верно, пользователь получает сообщение об упешной привязке аакаунта. Аккаунт привязывается к системе.
8. Если код введён неверно, пользователь получает сообщение об этом, ему предлагают попробовать ввести код снова. Аккаунт не привязывается.

Отвязка:

Способ 1:

1. Пользователь открывает свой профиль
2. Пользователь видит запись о своём аккаунте в Telegram
3. Пользователь нажимает кнопку "отвязать"
4. Появляется окно подстверждения с двумя кнопками: "да" и "нет"
5. Если пользователь нажимает кнопку "нет", он возвращается в свой профиль
6. Если пользователь нажимает кнопку "да", аккаунт Telegram отвязывается и пользователя возвращает в его профиль
7. В случае отвязки аккаунта в Telegram приходит сообщение об отвязке аккаунта

Способ 2:

1. Пользователь открывает чат с ботом-оповещателем в телеграме
2. Пользователь вводит команду /logout
3. Бот спрашивает пользователя, точно ли он хочет отвязать телегам от системы
4. Если пользователь отвечает "да" (в любом регистре), аккаунт Telegram отвязывается от системы
5. Пользователю приходит сообщение об отвязке аккаунта
6. Если пользователь отвечает что угодно ещё, аккаунт не отвязывается
7. Пользователю приходит сообщение о том, что аккаунт не был отвязан

### [ Сценарий 3 - Просмотр истории инцидентов, фильтрация инцидентов ]

1. Пользователь открывает страницу "история инцидентов"
2. Появляется список карточек инцидентов в обратном хронологическом порядке
3. На каждой карточке инцидента указана информация о нём: с каким сервисом произошел инцидент, когда начался, когда закончился (если закончился), насколько упала скорость загрузки
4. При желании пользователь нажимает на кнопку фильтрации
5. Тогда появляется далоговое окно с фильтрами, которые можно применить к инцидентам
6. Пользователь выбирает страницы, инциденты на которых его интересуют
7. Пользователь выбирает временной период, инциденты во время которого его интересую
8. Пользователь нажимает кнопку "применить"
9. Если настроен хотя бы один из фильтров, появляется список инцидентов, соответствующих параметрам. Если таких инцидентов нет, появляется информация об этом.
10. Если ни один фильтр не настроен, пользователя возвращает в список всех инцидентов

### [ Сценарий 4 - Просмотр визуализации истории скорости загрузки страницы ]

1. Пользователь открывает страницу "скорость загрузки"
2. Перед пользователем появляется общая визуализация скорости загрузки всех страниц (Какая точно - TBD)
3. Под визуализацией список страниц, у каждой указано название и веб-адрес
4. Пользователь нажимает на одну из страниц списка
5. Открывается визуализация скорости конкретно этой страницы.
6. На визуализации выделены цветом периоды, в котрые происходили инциденты
7. Под визуализацией отображается список инцидентов на этой странице (см. Сценирий 3)

### [ Сценарий 5 - Добавление страницы/сервиса в список для отслеживания ]

\* Для выполнения этого сценария пользователь должен быть администратором

1. Пользователь открывает список сервисов в настройках системы
2. Пользователь нажимает кнопку "добавить страницу"
3. Появляется диалог добавления страницы
4. Пользователь вводит название новой страницы
5. Пользователь вводит веб-адрес новой страницы
6. Если веб-адрес некорректен (он должен иметь форму `http(s)://a.b.c/abc`), система выводит оповещение об этом и не даёт добавить страницу в список
7. Пользователь вводит пороговое значение скорости загрузки для новой страницы в секундах
8. Пользователь нажимает кнопку "добавить страницу"
9. Если все данные введены корректно, страница добавляется в список и начинает отслеживаться. Диалоговое окно закрывается

### [ Сценарий 6 - Редактирование/удаление страницы из списка для отслеживания ]

\* Для выполнения этого сценария пользователь должен быть администратором

1. Пользователь открывает список сервисов в настройках системы
2. На карточке выбранной страницы пользователь нажимает кнопку "редактировать"
3. Появляется диалог окно редактирования страницы
4. Если пользователь хочет удалить страницу, он нажимает на кнопку "удалить", см. пункты 11-13. Если отредактировать - см. пункты 5-10

Редактирование:

5. Пользователь редактирует название страницы (опционально)
6. Пользователь редактирует веб-адрес страницы (опционально)
7. Если веб-адрес некорректен (он должен иметь форму `http(s)://a.b.c/abc`), система выводит оповещение об этом и не даёт отредактировать страницу
8. Пользователь редактирует пороговое значение скорости загрузки для страницы (опционально)
9. Пользователь нажимает кнопку "применить изменения"
10. Если все данные введены корректно, страница добавляется в список и начинает отслеживаться

Удаление:

11. Система выводит окно подтверждения удаления с двумя кнопками: "да" и "нет"
12. Если пользователь нажимает кнопку "нет", он возвращается в окно редактирования страницы
13. Если пользователь нажимает кнопку "да", страница удаляется из списка, диалоги закрываются

### [ Сценарий 7 - Изменение базовых настроек системы ]

\* Для выполнения этого сценария пользователь должен быть администратором

1. Пользователь заходит в настройки системы
2. Пользователь вводит периодичность отслеживания страниц в минутах (опционально)
3. Пользователь устанавливает переключатель отправки повторного оповещения в нужное положение (отправлять/не отправлять)
4. Если переключатель отправки повторного оповещения установлен в положение "не отправлять", пункт 5 недоступен
5. Пользователь вводит время отправки повторного оповещения об инциденте (опционально)
6. Если был изменен хотя бы один параметр, становится доступной кнопка "применить изменения" 
7. Пользователь нажимает кнопку "применить изменения"
8. Если данные введены корректно, применяются новые настройки системы.
